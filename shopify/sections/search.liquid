<div class="search hero js-search-view">
  <div class="container banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
    <div class="banner__box content-container content-container--full-width-mobile">
      <div class="banner__form" {{ block.shopify_attributes }}>
        <form action="/pages/search" type="POST" id="aiSearch">
          <div class="banner__field-wrapper">
            <div class="banner__field field">
              <input
                id="NewsletterForm--{{ section.id }}"
                type="text"
                name="search"
                class="banner__input field__input color-text-white text-20px-all"
                value=""
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="search"
                placeholder="{{ block.settings.form_placeholder | escape }}"
                required
              >
              <span class="banner__icon-search">{% render 'icon-search' %}</span>
              <label class="banner__label field__label color-text-white text-20px font-weight-bold">
                {{ block.settings.form_placeholder | escape }}
              </label>
              <button type="submit" class="btn btn--primary banner__button field__button" id="SearchSubmit">
                {% render 'icon-magic-wand' %}
                {{ block.settings.button_text | escape }}
              </button>
            </div>
          </div>
        </form> 
      </div>
    </div>

    <div class="search__wrapper">
      <div class="search__header">
        {% if section.settings.search_title != blank %}
          <h2>{{ section.settings.search_title }}</h2>
        {% endif %}
        {% if section.settings.search_description != blank %}
          <p class="js-search-prompt">{{ section.settings.search_description }}</p>
        {% endif %}
      </div>
      <div class="swiper js-search-swiper" data-mockup-url="{{ product.url }}" data-mockup-src="{{ product.featured_image | img_url: 'grande' }}">
        <div class="swiper-wrapper">
          {% for i in (1..3) %}            
              <div class="swiper-slide swiper-slide">
                <a href="{{ product.url }}" target="_blank">
                  <img src="{{ product.featured_image | img_url: 'grande' }}" />
                </a>
              </div>
            {% endfor %}
        </div>
        <div class="swiper__append">        
          <button type="button" class="append-2-slides js-generate-more">Create More 
            {% render 'create-more-icon' %}
          </button>
        </div>
      </div>
    </div>

    {% if section.settings.show_more %}
      <div class="show-more">
        <button class="show-more__btn btn btn--secondary">
          {% render 'icon-magic' %}
          {{ section.settings.button_more }}
        </button>
      </div>
    {% endif %}
  </div>
</div>

<script src="{{ 'search-swipers.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Search grid",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Default mockup product"
    },
    {
      "type": "text",
      "id": "form_placeholder",
      "default": "Panda jumping",
      "label": "Form placeholder"
    },
    {
      "type": "text",
      "id": "button_text",
      "default": "Create",
      "label": "Button text"
    },
    {
      "type": "text",
      "id": "search_title",
      "default": "Brought you by  the prompt:",
      "label": "Search title"
    },
    {
      "type": "text",
      "id": "search_description",
      "default": "Space panda, in the style of Pixar animation, very detailed, movie shot, studio quality, 8k render; weekly shonen jump issueby ‘zootopia’, ‘luca’, ‘zootopia’ etc, blockbuster, high detail; high quality film still; poster",
      "label": "Search description"
    },
    {
      "type": "checkbox",
      "id": "show_more",
      "label": "Show more button",
      "default": false
    },
    {
      "type": "text",
      "id": "button_more",
      "label": "Button more text",
      "default": "Show me more"
    }
  ],
  "presets": [
    {
      "name": "Search grid"
    }
  ]
}
{% endschema %}
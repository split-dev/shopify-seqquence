<div class="search hero js-search-view">
  <div class="container banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
    <div class="banner__box content-container content-container--full-width-mobile">
      <div class="banner__form" {{ section.shopify_attributes }}>
        {% if section.settings.tutorial_title != blank %}
          <a class="hero__tutorial" href="{{ section.settings.tutorial_url }}">
            <span>{{ section.settings.tutorial_first_word }}</span>
            {{ section.settings.tutorial_title }}
            {% render 'icon-link' %}
          </a>
        {% endif %}

        <form
          action="/pages/search?preventAutoExtend=on"
          type="POST"
          id="aiSearch"
        >
          <div class="banner__field-wrapper">
            <div class="banner__field field">
              <input
                id="GenerateForm--{{ section.id }}"
                type="text"
                name="search"
                class="banner__input field__input color-text-white text-20px-all"
                value=""
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="search"
                placeholder="{{ section.settings.form_placeholder | escape }}"
                required
              >
              <span class="banner__icon-search">{% render 'icon-magic2' %}</span>
              {% comment %}
                <label class="banner__label field__label color-text-white text-20px font-weight-bold">
                  {{ section.settings.form_placeholder | escape }}
                </label>
              {% endcomment %}

              <button
                type="submit"
                class="btn btn--primary banner__button field__button"
                id="SearchSubmit"
              >
                {% render 'icon-magic-wand' %}
                {{ section.settings.button_text | escape }}
              </button>
            </div>
          </div>

          <label for="preventAutoExtend" class="checkbox">
            <input
              type="checkbox"
              name="preventAutoExtend"
              id="preventAutoExtend"
            >

            <svg width="1.6rem" height="1.6rem" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
              <rect width="16" height="16" stroke="currentColor" fill="none" stroke-width="1"></rect>
            </svg>

            <svg
              class="icon icon-checkmark"
              width="1.1rem"
              height="0.7rem"
              viewBox="0 0 11 7"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M1.5 3.5L2.83333 4.75L4.16667 6L9.5 1"
                stroke="currentColor"
                stroke-width="1.75"
                stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>

            <span>Do not auto-extend prompt</span>
          </label>

          <fieldset>
            <label class="product_type_label dropdown-toggle">
              <span class="dropdown-label"></span>
              {% render 'icon-caret' %}
            </label>
            <radiogroup class="product_type_filter dropdown-items" data-target=".product_type_label">
              <label class="product_type" data-val="UCTS">
                <input type="radio" name="productType" value="UCTS" checked>
                <span>Unisex T-shirt</span>
              </label>
              <label class="product_type" data-val="FCTS">
                <input type="radio" name="productType" value="FCTS">
                <span>Women Tee</span>
              </label>
              <label class="product_type" data-val="KCTS">
                <input type="radio" name="productType" value="KCTS">
                <span>Kids Tee</span>
              </label>
              <label class="product_type" data-val="HOOD">
                <input type="radio" name="productType" value="HOOD">
                <span>Hoodie</span>
              </label>
              <label class="product_type" data-val="UHCS">
                <input type="radio" name="productType" value="UHCS">
                <span>Sweatshirt</span>
              </label>
              {% comment %}
                <label class="product_type" data-val="CASE">
                  <input type="radio" name="productType" value="CASE">
                  <span>Smartphone Case</span>
                </label>
              {% endcomment %}
            </radiogroup>
          </fieldset>
        </form>
      </div>
    </div>

    <section class="search__wrapper loading">
      <div class="search__header">
        {% if section.settings.search_title != blank %}
          <h2>{{ section.settings.search_title }}</h2>
        {% endif %}
        {% if section.settings.search_description != blank %}
          <p class="js-search-prompt">{{ section.settings.search_description }}</p>
        {% endif %}
      </div>
      <div
        class="js-search-products products-list"
        data-mockup-src=""
      >
        <div class="products-wrapper">
          {% for i in (1..3) %}
            <div class="products-item">
              <div class="preview-container">
                <div class="preview-image"></div>
                <img class="preview-mockup" src="">
              </div>

              <button class="btn btn--secondary js-get-product-redirect button button--secondary">
                <span>$34.99 Buy Now!</span>
              </button>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="products__append">
        <button type="button" class="append-2-slides js-generate-more">
          {% render 'create-more-icon' %}
          <span>Create more of this style</span>
        </button>
      </div>
    </section>

    {% comment %} COPY OF UPPER BLOCK BECAUSE OF SWIPER {% endcomment %}
    <template class="js-search-dom-template">
      <section class="search__wrapper">
        <div class="search__header">
          {% if section.settings.search_title != blank %}
            <h2>{{ section.settings.search_title }}</h2>
          {% endif %}
          {% if section.settings.search_description != blank %}
            <p class="js-search-prompt">{{ section.settings.search_description }}</p>
          {% endif %}
        </div>

        <div
          class="js-search-products products-list"
          data-mockup-src=""
        >
          <div class="products-wrapper">
            {% for i in (1..3) %}
              <div class="products-item">
                <div class="preview-container">
                  <div class="preview-image"></div>
                  <img class="preview-mockup" src="">
                </div>
                <button class="btn btn--secondary js-get-product-redirect button button--secondary">
                  <span>$34.99 Buy Now!</span>
                </button>
              </div>
            {% endfor %}
          </div>
        </div>
        <div class="products__append">
          <button type="button" class="append-2-slides js-generate-more">
            {% render 'create-more-icon' %}
            <span>Create more of this style</span>
          </button>
        </div>
      </section>
    </template>

    {% comment %} @todo: add functionaity! {% endcomment %}
    {% if section.settings.show_more %}
      <div class="show-more js-show-more">
        <button class="show-more__btn btn btn--secondary js-get-new-prompt">
          {% render 'icon-magic-dark' %}
          <span>{{ section.settings.button_more }}</span>
        </button>
      </div>
    {% endif %}
  </div>
</div>
{%- render 'popup',
  popup_message: 'Your request is too suggestive. Please try something else.',
  popup_id: 'error_message'
-%}

{%- style -%}
  .template-search .search__wrapper .products-item:not(.customized) .preview-image {
    background-image: url({{ settings.loader }});
  }
{%- endstyle -%}

<script>
  (function () {
    window.productImages = {
      UCTS: {
        'Athletic Heather':
          'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_athleticheather_front.webp',
        Black: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_black_front.webp',
        'Dark Heather': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_darkheather_front.webp',
        Kelly: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_kelly_front.webp',
        Navy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_navy_front.webp',
        Orange: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_orange_front.webp',
        Pink: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_pink_front.webp',
        Red: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_red_front.webp',
        'True Royal': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_trueroyal_front.webp',
        White: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/t_shirt/unisex_white_front.webp',
      },
      FCTS: {
        Azalea: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_azalea_front.webp',
        Black: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_black_front.webp',
        Charcoal: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_charcoal_front.webp',
        Daisy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_daisy_front.webp',
        Irishgreen: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_irishgreen_front.webp',
        Navy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_navy_front.webp',
        Red: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_red_front.webp',
        'Sport Grey': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_sportgrey_front.webp',
        White: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_female/womens_white_front.webp',
      },
      KCTS: {
        Black: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_black_front.webp',
        'Irish Green': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_irishgreen_front.webp',
        'Light Blue': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_lightblue_front.webp',
        'Light Pink': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_lightpink_front.webp',
        Navy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_navy_front.webp',
        Red: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_red_front.webp',
        Royal: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_royal_front.webp',
        White: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/tshirt_kids/kids_white_front.webp',
      },
      HOOD: {
        Black: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_black_front.webp',
        'Irish Green': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_irishgreen_front.webp',
        'Light Blue': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_lightblue_front.webp',
        'Light Pink': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_lightpink_front.webp',
        Navy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_navy_front.webp',
        Red: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_red_front.webp',
        Royal: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_royal_front.webp',
        Sand: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_sand_front.webp',
        'Sport Grey': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_sportgrey_front.webp',
        White: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/hoodie/hoodie_white_front.webp',
      },
      UHCS: {
        Black: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_black_front.webp',
        'Irish Green': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_irishgreen_front.webp',
        'Light Blue': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_lightblue_front.webp',
        'Light Pink': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_lightpink_front.webp',
        Navy: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_navy_front.webp',
        Red: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_red_front.webp',
        Royal: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_royal_front.webp',
        Sand: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_sand_front.webp',
        'Sport Grey': 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_sportgrey_front.webp',
        White: 'https://d26koaznr1os49.cloudfront.net/no_bg_webp/sweatshirt/sweatshirt_white_front.webp',
      },
    };
    var reqProductType = new URL(document.location).searchParams.get('productType') || 'UCTS';
    var requestedPreviewMockup = productImages[reqProductType] || productImages.UCTS;

    document.querySelectorAll('.preview-mockup').forEach(function (_mock) {
      _mock.src = requestedPreviewMockup.White;
      _mock.parentNode.querySelector('.preview-image').setAttribute('data-preview-format', reqProductType);
    });
  })();
</script>

{% schema %}
{
  "name": "Search grid",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "video",
      "id": "preloader",
      "label": "Video preloader"
    },
    {
      "type": "text",
      "id": "tutorial_title",
      "label": "Tutorial title"
    },
    {
      "type": "text",
      "id": "tutorial_first_word",
      "label": "Tutorial first word"
    },
    {
      "type": "url",
      "id": "tutorial_url",
      "label": "Tutorial link url"
    },
    {
      "type": "text",
      "id": "form_placeholder",
      "default": "Panda jumping",
      "label": "Form placeholder"
    },
    {
      "type": "text",
      "id": "button_text",
      "default": "Create",
      "label": "Button text"
    },
    {
      "type": "text",
      "id": "search_title",
      "default": "Brought you by  the prompt:",
      "label": "Search title"
    },
    {
      "type": "text",
      "id": "search_description",
      "default": "Loading...",
      "label": "Search description"
    },
    {
      "type": "checkbox",
      "id": "show_more",
      "label": "Show more button",
      "default": false
    },
    {
      "type": "text",
      "id": "button_more",
      "label": "Button more text",
      "default": "Show me more"
    }
  ],
  "presets": [
    {
      "name": "Search grid"
    }
  ]
}
{% endschema %}

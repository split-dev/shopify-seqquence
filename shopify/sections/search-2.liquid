

<div class="search hero js-search-view">
  <div class="container banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
        <div class="search__wrapper loading">
          <div class="search__header">
            {% if section.settings.search_title != blank %}
              <h2>{{ section.settings.search_title }}</h2>
            {% endif %}
            {% if section.settings.search_description != blank %}
              <p class="js-search-prompt">{{ section.settings.search_description }}</p>
            {% endif %}
          </div>
          {% assign tshirt_photo_def = section.settings.tshirtplaceholder | image %}
          {% assign tshirt_photo = section.settings.product.images | first | default: tshirt_photo_def %}
          <div class="swiper js-search-swiper" data-mockup-url="{{ section.settings.product.url }}" data-mockup-src="{{ tshirt_photo | img_url: 'large' }}">
            <div class="swiper-wrapper">
              {% for i in (1..3) %}
                  <div class="swiper-slide swiper-slide">
                    <img src="{{ tshirt_photo | img_url: 'large' }}" />
                    <button data-mockup="{{ section.settings.product.url }}" class="btn btn--secondary js-get-product-redirect button button--secondary"><span>Buy</span></button>
                    {{ section.settings.preloader | video_tag: muted: true, loop: true, autoplay: true, playsinline: true, width: 210 }}
                  </div>
                {% endfor %}
            </div>
            <div class="swiper__append">        
              <button type="button" class="append-2-slides js-generate-more">
                <span>Create More of this Style</span>
                {% render 'create-more-icon' %}
              </button>
            </div>
          </div>
        </div>

        <template class="js-search-dom-template">
          <div class="search__wrapper">
            <div class="search__header">
              {% if section.settings.search_title != blank %}
                <h2>{{ section.settings.search_title }}</h2>
              {% endif %}
              {% if section.settings.search_description != blank %}
                <p class="js-search-prompt">Loading...</p>
              {% endif %}
            </div>
            {% assign tshirt_photo_def = section.settings.tshirtplaceholder | image %}
            {% assign tshirt_photo = section.settings.product.images | first | default: tshirt_photo_def %}
            <div class="swiper js-search-swiper" data-mockup-url="{{ section.settings.product.url }}" data-mockup-src="{{ tshirt_photo | img_url: 'large' }}">
              <div class="swiper-wrapper">
                {% for i in (1..3) %}
                    <div class="swiper-slide swiper-slide">
                      <img src="{{ tshirt_photo | img_url: 'large' }}" />
                      <button data-mockup="{{ section.settings.product.url }}" class="btn btn--secondary js-get-product-redirect button button--secondary"><span>Buy</span></button>
                      {{ section.settings.preloader | video_tag: muted: true, loop: true, autoplay: true, playsinline: true, width: 210 }}
                    </div>
                  {% endfor %}
              </div>
              <div class="swiper__append">        
                <button type="button" class="append-2-slides js-generate-more">
                  <span>Create More of this Style</span>
                  {% render 'create-more-icon' %}
                </button>
              </div>
            </div>
          </div>
        </template>

        {% comment %} @todo: add functionaity! {% endcomment %}
        {% if section.settings.show_more %}
          <div class="show-more">
            <button class="show-more__btn btn btn--secondary js-get-new-prompt">
              {% render 'icon-magic' %}
              <span>{{ section.settings.button_more }}</span>
            </button>
          </div>
        {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Search grid 2",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Default mockup product"
    },
    {
      "type": "video",
      "id": "preloader",
      "label": "Video preloader"
    },
    {
      "type": "text",
      "id": "form_placeholder",
      "default": "Panda jumping",
      "label": "Form placeholder"
    },
    {
      "type": "text",
      "id": "tshirtplaceholder",
      "default": "https://cdn.shopify.com/s/files/1/0694/9752/0433/files/t-shirt-mockup.png?v=1675951639",
      "label": "URL Link to T-Shirt product placeholder"
    },
    {
      "type": "text",
      "id": "button_text",
      "default": "Create",
      "label": "Button text"
    },
    {
      "type": "text",
      "id": "search_title",
      "default": "Brought you by  the prompt:",
      "label": "Search title"
    },
    {
      "type": "text",
      "id": "search_description",
      "default": "Loading...",
      "label": "Search description"
    },
    {
      "type": "checkbox",
      "id": "show_more",
      "label": "Show more button",
      "default": false
    },
    {
      "type": "text",
      "id": "button_more",
      "label": "Button more text",
      "default": "Show me more"
    }
  ],
  "presets": [
    {
      "name": "Search grid 2"
    }
  ]
}
{% endschema %}